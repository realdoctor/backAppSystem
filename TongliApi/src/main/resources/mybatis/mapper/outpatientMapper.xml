<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.realdoctor.back.dal.dao.OutpatientDao">
	<resultMap type="com.realdoctor.back.dal.pojo.Outpatient" id="BaseResultMap">
		<result property="id" column="id" jdbcType="BIGINT"/>
		<result property="patientId" column="patient_id" jdbcType="VARCHAR"/>
		<result property="orgCode" column="org_code" jdbcType="VARCHAR"/>
		<result property="outpatFormNo" column="outpat_form_no" jdbcType="VARCHAR"/>
		<result property="visitOrgName" column="visit_org_name" jdbcType="VARCHAR"/>
		<result property="visitOrgCode" column="visit_org_code" jdbcType="VARCHAR"/>
		<result property="visitDeptName" column="visit_dept_name" jdbcType="VARCHAR"/>
		<result property="visitDtime" column="visit_dtime" jdbcType="TIMESTAMP"/>
		<result property="referralMark" column="referral_mark" jdbcType="VARCHAR"/>
		<result property="healthServiceDemand" column="health_service_demand" jdbcType="VARCHAR"/>
		<result property="healthProblemEval" column="health_problem_eval" jdbcType="VARCHAR"/>
		<result property="treatmentPlan" column="treatment_plan" jdbcType="VARCHAR"/>
		<result property="otherMedicalTreatment" column="other_medical_treatment" jdbcType="VARCHAR"/>
		<result property="respDoctorName" column="resp_doctor_name" jdbcType="VARCHAR"/>
		<result property="sbp" column="sbp" jdbcType="SMALLINT"/>
		<result property="dbp" column="dbp" jdbcType="SMALLINT"/>
		<result property="deptCode" column="dept_code" jdbcType="VARCHAR"/>
		<result property="doctorCode" column="doctor_code" jdbcType="VARCHAR"/>
		<result property="doctorTitleCode" column="doctor_title_code" jdbcType="VARCHAR"/>
		<result property="regType" column="reg_type" jdbcType="VARCHAR"/>
		<result property="secTypeCode" column="sec_type_code" jdbcType="VARCHAR"/>
		<result property="secNo" column="sec_no" jdbcType="VARCHAR"/>
		<result property="isLocalMark" column="is_local_mark" jdbcType="VARCHAR"/>
		<result property="stdDeptCode" column="std_dept_code" jdbcType="VARCHAR"/>
		<result property="consultQuestion" column="consult_question" jdbcType="VARCHAR"/>
		<result property="lastUpdateDtime" column="last_update_dtime" jdbcType="TIMESTAMP"/>
	</resultMap>

	<sql id="columns"> 
		t.id,
		t.patient_id,
		t.org_code,
		t.outpat_form_no,
		t.visit_org_name,
		t.visit_org_code,
		t.visit_dept_name,
		t.visit_dtime,
		t.referral_mark,
		t.health_service_demand,
		t.health_problem_eval,
		t.treatment_plan,
		t.other_medical_treatment,
		t.resp_doctor_name,
		t.sbp,
		t.dbp,
		t.dept_code,
		t.doctor_code,
		t.doctor_title_code,
		t.reg_type,
		t.sec_type_code,
		t.sec_no,
		t.is_local_mark,
		t.std_dept_code,
		t.consult_question,
		t.last_update_dtime
	</sql>

	<select id="query" resultMap="BaseResultMap" parameterType="com.easyway.business.framework.mybatis.query.ConditionQuery">
		select
		t.id,
		t.patient_id,
		t.org_code,
		t.outpat_form_no,
		t.visit_org_name,
		t.visit_org_code,
		t.visit_dept_name,
		t.visit_dtime,
		t.referral_mark,
		t.health_service_demand,
		t.health_problem_eval,
		t.treatment_plan,
		t.other_medical_treatment,
		t.resp_doctor_name,
		t.sbp,
		t.dbp,
		t.dept_code,
		t.doctor_code,
		t.doctor_title_code,
		t.reg_type,
		t.sec_type_code,
		t.sec_no,
		t.is_local_mark,
		t.std_dept_code,
		t.consult_question,
		t.last_update_dtime
		from outpatient t 
		<include refid="conditionQuery.core" />
		order by
		<choose>
		<when test="paramMap.orderCol!=null">
		${paramMap.orderCol}
		</when>
		<otherwise>
		id desc
		</otherwise>
		</choose>
		<if test="paramMap.pageSize > 0">
		  limit #{paramMap.pageOffset},#{paramMap.pageSize}
		</if>
	</select>

	<select id="queryCnt" parameterType="com.easyway.business.framework.mybatis.query.ConditionQuery" resultType="java.lang.Integer">
		select count(*) from outpatient t
		<include refid="conditionQuery.core" />
	</select>

	<select id="get" resultMap="BaseResultMap" parameterType="java.math.BigInteger">
		select
		<include refid="columns"/>
		from outpatient t 
		where t.id = #{id,jdbcType=BIGINT}
	</select>

	<delete id="delete" parameterType="com.realdoctor.back.dal.pojo.Outpatient">
		delete from outpatient where 1=1 
		and id=#{id,jdbcType=BIGINT}
	</delete>

	<insert id="save" parameterType="com.realdoctor.back.dal.pojo.Outpatient" useGeneratedKeys="true" keyProperty="id">
		insert into outpatient (
		patient_id,
		org_code,
		outpat_form_no,
		visit_org_name,
		visit_org_code,
		visit_dept_name,
		visit_dtime,
		referral_mark,
		health_service_demand,
		health_problem_eval,
		treatment_plan,
		other_medical_treatment,
		resp_doctor_name,
		sbp,
		dbp,
		dept_code,
		doctor_code,
		doctor_title_code,
		reg_type,
		sec_type_code,
		sec_no,
		is_local_mark,
		std_dept_code,
		consult_question,
		last_update_dtime
		)
		values(
		#{patientId,jdbcType=VARCHAR},
		#{orgCode,jdbcType=VARCHAR},
		#{outpatFormNo,jdbcType=VARCHAR},
		#{visitOrgName,jdbcType=VARCHAR},
		#{visitOrgCode,jdbcType=VARCHAR},
		#{visitDeptName,jdbcType=VARCHAR},
		#{visitDtime,jdbcType=TIMESTAMP},
		#{referralMark,jdbcType=VARCHAR},
		#{healthServiceDemand,jdbcType=VARCHAR},
		#{healthProblemEval,jdbcType=VARCHAR},
		#{treatmentPlan,jdbcType=VARCHAR},
		#{otherMedicalTreatment,jdbcType=VARCHAR},
		#{respDoctorName,jdbcType=VARCHAR},
		#{sbp,jdbcType=SMALLINT},
		#{dbp,jdbcType=SMALLINT},
		#{deptCode,jdbcType=VARCHAR},
		#{doctorCode,jdbcType=VARCHAR},
		#{doctorTitleCode,jdbcType=VARCHAR},
		#{regType,jdbcType=VARCHAR},
		#{secTypeCode,jdbcType=VARCHAR},
		#{secNo,jdbcType=VARCHAR},
		#{isLocalMark,jdbcType=VARCHAR},
		#{stdDeptCode,jdbcType=VARCHAR},
		#{consultQuestion,jdbcType=VARCHAR},
		#{lastUpdateDtime,jdbcType=TIMESTAMP}
		)
	</insert>

	<update id="update" parameterType="com.realdoctor.back.dal.pojo.Outpatient">
		update outpatient set
		patient_id = #{patientId,jdbcType=VARCHAR},
		org_code = #{orgCode,jdbcType=VARCHAR},
		outpat_form_no = #{outpatFormNo,jdbcType=VARCHAR},
		visit_org_name = #{visitOrgName,jdbcType=VARCHAR},
		visit_org_code = #{visitOrgCode,jdbcType=VARCHAR},
		visit_dept_name = #{visitDeptName,jdbcType=VARCHAR},
		visit_dtime = #{visitDtime,jdbcType=TIMESTAMP},
		referral_mark = #{referralMark,jdbcType=VARCHAR},
		health_service_demand = #{healthServiceDemand,jdbcType=VARCHAR},
		health_problem_eval = #{healthProblemEval,jdbcType=VARCHAR},
		treatment_plan = #{treatmentPlan,jdbcType=VARCHAR},
		other_medical_treatment = #{otherMedicalTreatment,jdbcType=VARCHAR},
		resp_doctor_name = #{respDoctorName,jdbcType=VARCHAR},
		sbp = #{sbp,jdbcType=SMALLINT},
		dbp = #{dbp,jdbcType=SMALLINT},
		dept_code = #{deptCode,jdbcType=VARCHAR},
		doctor_code = #{doctorCode,jdbcType=VARCHAR},
		doctor_title_code = #{doctorTitleCode,jdbcType=VARCHAR},
		reg_type = #{regType,jdbcType=VARCHAR},
		sec_type_code = #{secTypeCode,jdbcType=VARCHAR},
		sec_no = #{secNo,jdbcType=VARCHAR},
		is_local_mark = #{isLocalMark,jdbcType=VARCHAR},
		std_dept_code = #{stdDeptCode,jdbcType=VARCHAR},
		consult_question = #{consultQuestion,jdbcType=VARCHAR},
		last_update_dtime = #{lastUpdateDtime,jdbcType=TIMESTAMP}
		where 1=1 and id = #{id,jdbcType=BIGINT}
	</update>

	<insert id="insertSelective" parameterType="com.realdoctor.back.dal.pojo.Outpatient" useGeneratedKeys="true" keyProperty="id">
		insert into outpatient
		<trim prefix="(" suffix=")" suffixOverrides=",">
		  <if test="patientId != null">
		    patient_id,
		  </if>
		  <if test="orgCode != null">
		    org_code,
		  </if>
		  <if test="outpatFormNo != null">
		    outpat_form_no,
		  </if>
		  <if test="visitOrgName != null">
		    visit_org_name,
		  </if>
		  <if test="visitOrgCode != null">
		    visit_org_code,
		  </if>
		  <if test="visitDeptName != null">
		    visit_dept_name,
		  </if>
		  <if test="visitDtime != null">
		    visit_dtime,
		  </if>
		  <if test="referralMark != null">
		    referral_mark,
		  </if>
		  <if test="healthServiceDemand != null">
		    health_service_demand,
		  </if>
		  <if test="healthProblemEval != null">
		    health_problem_eval,
		  </if>
		  <if test="treatmentPlan != null">
		    treatment_plan,
		  </if>
		  <if test="otherMedicalTreatment != null">
		    other_medical_treatment,
		  </if>
		  <if test="respDoctorName != null">
		    resp_doctor_name,
		  </if>
		  <if test="sbp != null">
		    sbp,
		  </if>
		  <if test="dbp != null">
		    dbp,
		  </if>
		  <if test="deptCode != null">
		    dept_code,
		  </if>
		  <if test="doctorCode != null">
		    doctor_code,
		  </if>
		  <if test="doctorTitleCode != null">
		    doctor_title_code,
		  </if>
		  <if test="regType != null">
		    reg_type,
		  </if>
		  <if test="secTypeCode != null">
		    sec_type_code,
		  </if>
		  <if test="secNo != null">
		    sec_no,
		  </if>
		  <if test="isLocalMark != null">
		    is_local_mark,
		  </if>
		  <if test="stdDeptCode != null">
		    std_dept_code,
		  </if>
		  <if test="consultQuestion != null">
		    consult_question,
		  </if>
		  <if test="lastUpdateDtime != null">
		    last_update_dtime,
		  </if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
		  <if test="patientId != null">patient_id=#{patientId,jdbcType=VARCHAR},</if>
		  <if test="orgCode != null">org_code=#{orgCode,jdbcType=VARCHAR},</if>
		  <if test="outpatFormNo != null">outpat_form_no=#{outpatFormNo,jdbcType=VARCHAR},</if>
		  <if test="visitOrgName != null">visit_org_name=#{visitOrgName,jdbcType=VARCHAR},</if>
		  <if test="visitOrgCode != null">visit_org_code=#{visitOrgCode,jdbcType=VARCHAR},</if>
		  <if test="visitDeptName != null">visit_dept_name=#{visitDeptName,jdbcType=VARCHAR},</if>
		  <if test="visitDtime != null">visit_dtime=#{visitDtime,jdbcType=TIMESTAMP},</if>
		  <if test="referralMark != null">referral_mark=#{referralMark,jdbcType=VARCHAR},</if>
		  <if test="healthServiceDemand != null">health_service_demand=#{healthServiceDemand,jdbcType=VARCHAR},</if>
		  <if test="healthProblemEval != null">health_problem_eval=#{healthProblemEval,jdbcType=VARCHAR},</if>
		  <if test="treatmentPlan != null">treatment_plan=#{treatmentPlan,jdbcType=VARCHAR},</if>
		  <if test="otherMedicalTreatment != null">other_medical_treatment=#{otherMedicalTreatment,jdbcType=VARCHAR},</if>
		  <if test="respDoctorName != null">resp_doctor_name=#{respDoctorName,jdbcType=VARCHAR},</if>
		  <if test="sbp != null">sbp=#{sbp,jdbcType=SMALLINT},</if>
		  <if test="dbp != null">dbp=#{dbp,jdbcType=SMALLINT},</if>
		  <if test="deptCode != null">dept_code=#{deptCode,jdbcType=VARCHAR},</if>
		  <if test="doctorCode != null">doctor_code=#{doctorCode,jdbcType=VARCHAR},</if>
		  <if test="doctorTitleCode != null">doctor_title_code=#{doctorTitleCode,jdbcType=VARCHAR},</if>
		  <if test="regType != null">reg_type=#{regType,jdbcType=VARCHAR},</if>
		  <if test="secTypeCode != null">sec_type_code=#{secTypeCode,jdbcType=VARCHAR},</if>
		  <if test="secNo != null">sec_no=#{secNo,jdbcType=VARCHAR},</if>
		  <if test="isLocalMark != null">is_local_mark=#{isLocalMark,jdbcType=VARCHAR},</if>
		  <if test="stdDeptCode != null">std_dept_code=#{stdDeptCode,jdbcType=VARCHAR},</if>
		  <if test="consultQuestion != null">consult_question=#{consultQuestion,jdbcType=VARCHAR},</if>
		  <if test="lastUpdateDtime != null">last_update_dtime=#{lastUpdateDtime,jdbcType=TIMESTAMP},</if>
		</trim>
	</insert>

	<update id="updateSelective" parameterType="com.realdoctor.back.dal.pojo.Outpatient">
		update outpatient 
		<set>
		  <if test="patientId != null">patient_id=#{patientId,jdbcType=VARCHAR},</if>
		  <if test="orgCode != null">org_code=#{orgCode,jdbcType=VARCHAR},</if>
		  <if test="outpatFormNo != null">outpat_form_no=#{outpatFormNo,jdbcType=VARCHAR},</if>
		  <if test="visitOrgName != null">visit_org_name=#{visitOrgName,jdbcType=VARCHAR},</if>
		  <if test="visitOrgCode != null">visit_org_code=#{visitOrgCode,jdbcType=VARCHAR},</if>
		  <if test="visitDeptName != null">visit_dept_name=#{visitDeptName,jdbcType=VARCHAR},</if>
		  <if test="visitDtime != null">visit_dtime=#{visitDtime,jdbcType=TIMESTAMP},</if>
		  <if test="referralMark != null">referral_mark=#{referralMark,jdbcType=VARCHAR},</if>
		  <if test="healthServiceDemand != null">health_service_demand=#{healthServiceDemand,jdbcType=VARCHAR},</if>
		  <if test="healthProblemEval != null">health_problem_eval=#{healthProblemEval,jdbcType=VARCHAR},</if>
		  <if test="treatmentPlan != null">treatment_plan=#{treatmentPlan,jdbcType=VARCHAR},</if>
		  <if test="otherMedicalTreatment != null">other_medical_treatment=#{otherMedicalTreatment,jdbcType=VARCHAR},</if>
		  <if test="respDoctorName != null">resp_doctor_name=#{respDoctorName,jdbcType=VARCHAR},</if>
		  <if test="sbp != null">sbp=#{sbp,jdbcType=SMALLINT},</if>
		  <if test="dbp != null">dbp=#{dbp,jdbcType=SMALLINT},</if>
		  <if test="deptCode != null">dept_code=#{deptCode,jdbcType=VARCHAR},</if>
		  <if test="doctorCode != null">doctor_code=#{doctorCode,jdbcType=VARCHAR},</if>
		  <if test="doctorTitleCode != null">doctor_title_code=#{doctorTitleCode,jdbcType=VARCHAR},</if>
		  <if test="regType != null">reg_type=#{regType,jdbcType=VARCHAR},</if>
		  <if test="secTypeCode != null">sec_type_code=#{secTypeCode,jdbcType=VARCHAR},</if>
		  <if test="secNo != null">sec_no=#{secNo,jdbcType=VARCHAR},</if>
		  <if test="isLocalMark != null">is_local_mark=#{isLocalMark,jdbcType=VARCHAR},</if>
		  <if test="stdDeptCode != null">std_dept_code=#{stdDeptCode,jdbcType=VARCHAR},</if>
		  <if test="consultQuestion != null">consult_question=#{consultQuestion,jdbcType=VARCHAR},</if>
		  <if test="lastUpdateDtime != null">last_update_dtime=#{lastUpdateDtime,jdbcType=TIMESTAMP},</if>
		</set>
		where 1=1 and id = #{id,jdbcType=BIGINT}
	</update>
</mapper>
